---
layout: post
title:  "防抖与节流的通俗解释"
date:   2019-07-28 08:00:00 +0800
categories: computer
tag: [computer]
---

*防抖*

用坐公交车来类比，通常在最后一名乘客刷卡完毕之后，司机会等待几分钟，确定乘客坐稳之后再开车。如果在这段司机等待的时间内又有新的乘客上车，那么在新乘客刷卡完毕之后，司机又要重新再等待一会，当确认最后上来的乘客坐稳之后再开车。

我们用 lodash 来实现这个机制就是：

```javascript
const WAIT_TIME = 120 * 1000;

function move(){
    console.log('公交开始形行驶);
}

function  drive = _.debounce(move, COLD_TIME); 
```

*节流*

玩过 moba 游戏（比如王者荣耀）的都知道，很多英雄的被动都有一个冷却时间，在这个冷却时间内，被动技能只能触发一次。比如项羽的被动：

    陷阵之志：
    冷却值：120秒
    被动：当生命低于30%，项羽可在6秒内获得30%伤害与40%免伤加成，此效果有120秒CD

意思就是说在项羽在挨揍的时候，从血量掉到30%以下触发被动效果。同时，这一刻开始，往后的 120 秒内都不能再触发被动了，哪怕这120秒内被打死了，都不会获得被动。

我们用 lodash 来实现这个机制就是：

```javascript
const COLD_TIME = 120 * 1000;

function buff (){
    console.log('获得30%伤害与40%免伤加成');
}

function  passive = _.throttle(buff, COLD_TIME); //被动技能
```

*总结*

所以，从目的来讲，防抖是为了避免用户误操作触发的尴尬，节流是为了限制用户想连续触发的意图。